window.onload=function(){document.getElementById("settingsHeader");const e=document.getElementById("user_bgColor"),o=document.getElementById("user_color1"),t=document.getElementById("user_color2"),n=document.getElementById("user_color3"),r=document.getElementById("body"),c=(document.getElementById("dynamicBtn"),document.getElementById("revertColor1")),l=document.getElementById("revertColor2"),s=document.getElementById("revertBg"),a=document.getElementById("revertColor3"),d=(document.getElementsByClassName("label"),document.getElementById("dynamicTxtArea"),document.getElementById("categories"));let g=document.documentElement;var u;chrome.storage.sync.get("bgColor",function(e){if(e.bgColor){var o=document.createElement("style");o.innerHTML=`\n        :root {\n          --background-color: ${e.bgColor};\n        }\n        `,r.appendChild(o)}}),chrome.storage.sync.get("color1",function(e){e.color1&&g.style.setProperty("--main-text-color",e.color1)}),chrome.storage.sync.get("color2",function(e){e.color2&&(g.style.setProperty("--heading-color",e.color2),t.value=e.color2)}),chrome.storage.sync.get("color3",function(e){e.color3&&g.style.setProperty("--accent-color",e.color3)}),chrome.storage.local.get("catInput",function(e){console.log(e),e.catInput&&(console.log("is result"),d.value=e.catInput)}),console.log("DOM ready"),e.addEventListener("change",function(){g.style.setProperty("--background-color",e.value),chrome.storage.sync.set({bgColor:e.value})}),o.addEventListener("change",function(){chrome.storage.sync.set({color1:o.value}),g.style.setProperty("--main-text-color",o.value)}),t.addEventListener("change",function(){chrome.storage.sync.set({color2:t.value}),g.style.setProperty("--heading-color",t.value)}),n.addEventListener("change",function(){chrome.storage.sync.set({color3:n.value}),g.style.setProperty("--accent-color",n.value)}),d.addEventListener("change",function(){chrome.storage.local.set({catInput:d.value});var e={};u=(u=d.value.split("/")).reverse();var o=[];u.forEach(e=>{o.push(e.trim())}),u=o,console.log(u);for(let o=0;o<u.length;o++){e[u[o]]={inner:""},console.log(e),chrome.storage.local.set({pages:e})}console.log(u),console.log("changed")}),s.addEventListener("click",function(){chrome.storage.sync.set({bgColor:"#86CCCC"}),g.style.setProperty("--background-color","#86CCCC")}),c.addEventListener("click",function(){chrome.storage.sync.set({color1:"#707070"}),g.style.setProperty("--main-text-color","#707070")}),l.addEventListener("click",function(){chrome.storage.sync.set({color2:"#FFFFFF"}),g.style.setProperty("--heading-color","#FFFFFF")}),a.addEventListener("click",function(){chrome.storage.sync.set({color3:"#00FFB1"}),g.style.setProperty("--accent-color","#00FFB1")})};